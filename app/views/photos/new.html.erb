<h1>Upload a New Photo</h1>

<%= render('layouts/errors', object: @photo) %>


    <%= form_for @photo, url: album_photos_path, :html => { :multipart => true} do |f| %>
    <p>
      <%= f.text_field :caption, placeholder: "Caption" %>
    </p>
    <p>
      <%= f.label :photo %>
      <%= f.file_field :photo %>
    </p>
    <p>
    <%= f.submit "Add Photo" %>
  </p>
  <% end %>

<div id="file-uploader">

  <div id="my_file_uploader"></div>
<script type="text/javascript">
    var uploader = new qq.FileUploader({
        element: document.getElementById('my_file_uploader'),
        action: '<%= album_photos_path %>',
        params: { "authenticity_token": "<%= form_authenticity_token %>" },
        customHeaders: { "X-File-Upload": "true" }
    });
</script>
</div>
